(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8052)}])},8052:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return Home}});var r=n(5893),t=n(7294),l=n(7066);function FileUpload(){let[e,a]=(0,t.useState)(null),[n,s]=(0,t.useState)(!1),[i,o]=(0,t.useState)(""),[d,c]=(0,t.useState)(""),uploadFile=async()=>{if(e){s(!0),c("");try{let a=new FormData;a.append("file",e);let n=await l.Z.post("/api/parse",a,{headers:{"Content-Type":"multipart/form-data"}}),r=n.data.text,t=await l.Z.post("/api/analyze",{text:r});if(!t.data.analysis)throw Error("No analysis received from server");o(t.data.analysis)}catch(a){console.error(a);let e=a instanceof Error?a.message:"An error occurred during upload or analysis.";c(e)}finally{s(!1)}}};return(0,r.jsxs)("div",{className:"w-full max-w-xl",children:[(0,r.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>{var n,r;return a(null!==(r=null===(n=e.target.files)||void 0===n?void 0:n[0])&&void 0!==r?r:null)},className:"mb-2"}),(0,r.jsx)("button",{onClick:uploadFile,disabled:!e||n,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:n?"Uploading...":"Upload and Analyze"}),d&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded text-red-700",children:[(0,r.jsx)("h2",{className:"font-bold mb-2",children:"Error"}),(0,r.jsx)("p",{children:d})]}),i&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-white shadow rounded whitespace-pre-wrap text-sm",children:[(0,r.jsx)("h2",{className:"font-bold mb-2",children:"Analysis Result"}),(0,r.jsx)("pre",{children:i})]})]})}function Home(){return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gray-100",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Home Cover GPT"}),(0,r.jsx)("p",{className:"mb-6 text-center max-w-xl",children:"Upload your homeowners insurance policy and get GPT-powered recommendations."}),(0,r.jsx)(FileUpload,{})]})}}},function(e){e.O(0,[774,66,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);